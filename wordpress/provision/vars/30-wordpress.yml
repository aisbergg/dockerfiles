---

# Load Dynamic Nginx Modules
NGINX_LOAD_NDK_HTTP_MODULE: true
NGINX_LOAD_NGX_HTTP_LUA_MODULE: true
NGINX_LOAD_NGX_HTTP_HEADERS_MORE_FILTER_MODULE: true

defaults:
  # Nginx
  NGINX_REDIRECT_TO_FIRST_DOMAIN: false
  NGINX_CONN_LIMIT_PER_IP: 10
  NGINX_REQ_LIMIT_PER_IP_RATE: 15
  NGINX_REQ_LIMIT_PER_IP_BURST: 25
  NGINX_FASTCGI_READ_TIMEOUT: 120

  # PHP
  PHP_FPM_SPAWN_MODE: dynamic
  PHP_FPM_MAX_CHILDREN: 40
  PHP_FPM_MIN_SPARE_SERVERS: 1
  PHP_FPM_MAX_SPARE_SERVERS: 2

  # ImageMagick
  IMAGEMAGICK_MEMORY: "256MiB"
  IMAGEMAGICK_MAP: "512MiB"
  IMAGEMAGICK_WIDTH: "8KP"
  IMAGEMAGICK_HEIGHT: "8KP"
  IMAGEMAGICK_AREA: "25MP"
  IMAGEMAGICK_DISK: "1GiB"
  IMAGEMAGICK_FILE: 768
  IMAGEMAGICK_THREAD: 2
  IMAGEMAGICK_THROTTLE: 0
  IMAGEMAGICK_TIME: 120
  IMAGEMAGICK_PRECISION: 6
  IMAGEMAGICK_ENABLED_CODERS: "GIF,JPG,JPEG,JP2,PNG,BMP,TIFF,SVG,DNG,PSD,ICON,THUMBNAIL,WEBP,MPEG,PDF,PS,PS2,PS3"
